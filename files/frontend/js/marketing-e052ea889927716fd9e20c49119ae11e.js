/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 0.5.6
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
function FastClick(t){"use strict";var e,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){FastClick.prototype.onClick.apply(n,arguments)},this.onTouchStart=function(){FastClick.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){FastClick.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){FastClick.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){FastClick.prototype.onTouchCancel.apply(n,arguments)},"undefined"!=typeof window.ontouchstart&&(t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}!function(t,e){function n(t){return t&&"object"==typeof t&&t.__wrapped__?t:this instanceof n?(this.__wrapped__=t,void 0):new n(t)}function i(t,e,n){e||(e=0);var i=t.length,r=i-e>=(n||ie);if(r)for(var s={},n=e-1;++n<i;){var o=t[n]+"";(xe.call(s,o)?s[o]:s[o]=[]).push(t[n])}return function(n){if(r){var i=n+"";return xe.call(s,i)&&-1<N(s[i],n)}return-1<N(t,n,e)}}function r(t){return t.charCodeAt(0)}function s(t,e){var n=t.b,i=e.b,t=t.a,e=e.a;if(t!==e){if(t>e||"undefined"==typeof t)return 1;if(e>t||"undefined"==typeof e)return-1}return i>n?-1:1}function o(t,e,n){function i(){var a=arguments,u=s?this:e;return r||(t=e[o]),n.length&&(a=a.length?n.concat(p(a)):n),this instanceof i?(d.prototype=t.prototype,u=new d,d.prototype=null,a=t.apply(u,a),x(a)?a:u):t.apply(u,a)}var r=k(t),s=!n,o=e;return s&&(n=e),r||(e=t),i}function a(t,e,n){return t?"function"!=typeof t?function(e){return e[t]}:"undefined"!=typeof e?n?function(n,i,r,s){return t.call(e,n,i,r,s)}:function(n,i,r){return t.call(e,n,i,r)}:t:Y}function u(){for(var t,e={b:"",c:"",e:Q,f:Ye,g:"",h:Xe,i:Qe,j:ye,k:"",l:!0},n=0;t=arguments[n];n++)for(var i in t)e[i]=t[i];if(t=e.a,e.d=/^[^,]+/.exec(t)[0],n=Function,i="var i,l="+e.d+",t="+e.d+";if(!"+e.d+")return t;"+e.k+";",e.b?(i+="var m=l.length;i=-1;if(typeof m=='number'){",e.i&&(i+="if(k(l)){l=l.split('')}"),i+="while(++i<m){"+e.b+"}}else {"):e.h&&(i+="var m=l.length;i=-1;if(m&&j(l)){while(++i<m){i+='';"+e.g+"}}else {"),e.e||(i+="var u=typeof l=='function'&&s.call(l,'prototype');"),e.f&&e.l?(i+="var q=-1,r=p[typeof l]?n(l):[],m=r.length;while(++q<m){i=r[q];",e.e||(i+="if(!(u&&i=='prototype')){"),i+=e.g+"",e.e||(i+="}")):(i+="for(i in l){",(!e.e||e.l)&&(i+="if(",e.e||(i+="!(u&&i=='prototype')"),!e.e&&e.l&&(i+="&&"),e.l&&(i+="h.call(l,i)"),i+="){"),i+=e.g+";",(!e.e||e.l)&&(i+="}")),i+="}",e.e){i+="var f=l.constructor;";for(var r=0;7>r;r++)i+="i='"+e.j[r]+"';if(","constructor"==e.j[r]&&(i+="!(f&&f.prototype===l)&&"),i+="h.call(l,i)){"+e.g+"}"}return(e.b||e.h)&&(i+="}"),i+=e.c+";return t",n("e,h,j,k,p,n,s","return function("+t+"){"+i+"}")(a,xe,g,C,nn,Oe,Ce)}function l(t){return"\\"+rn[t]}function c(t){return dn[t]}function h(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function d(){}function p(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,n=n-e||0,r=Array(0>n?0:n);++i<n;)r[i]=t[e+i];return r}function f(t){return pn[t]}function g(t){return Ee.call(t)==Le}function m(t){var e=!1;if(!t||"object"!=typeof t||g(t))return e;var n=t.constructor;return!k(n)&&(!Ke||!h(t))||n instanceof n?K?(cn(t,function(t,n,i){return e=!xe.call(i,n),!1}),!1===e):(cn(t,function(t,n){e=n}),!1===e||xe.call(t,e)):e}function v(t){var e=[];return hn(t,function(t,n){e.push(n)}),e}function y(t,e,n,i,r){if(null==t)return t;if(n&&(e=!1),n=x(t)){var s=Ee.call(t);if(!tn[s]||Ke&&h(t))return t;var o=gn(t)}if(!n||!e)return n?o?p(t):ln({},t):t;switch(n=en[s],s){case Re:case Pe:return new n(+t);case qe:case Ve:return new n(t);case Ne:return n(t.source,ce.exec(t))}for(i||(i=[]),r||(r=[]),s=i.length;s--;)if(i[s]==t)return r[s];var a=o?n(t.length):{};return i.push(t),r.push(a),(o?j:hn)(t,function(t,n){a[n]=y(t,e,null,i,r)}),o&&(xe.call(t,"index")&&(a.index=t.index),xe.call(t,"input")&&(a.input=t.input)),a}function b(t){var e=[];return cn(t,function(t,n){k(t)&&e.push(n)}),e.sort()}function F(t){var e={};return hn(t,function(t,n){e[t]=n}),e}function _(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;var r=Ee.call(t),s=Ee.call(e);if(r==Le&&(r=ze),s==Le&&(s=ze),r!=s)return!1;switch(r){case Re:case Pe:return+t==+e;case qe:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Ne:case Ve:return t==e+""}if(s=r==Me,!s){if(t.__wrapped__||e.__wrapped__)return _(t.__wrapped__||t,e.__wrapped__||e);if(r!=ze||Ke&&(h(t)||h(e)))return!1;var r=!Je&&g(t)?Object:t.constructor,o=!Je&&g(e)?Object:e.constructor;if(!(r==o||k(r)&&r instanceof r&&k(o)&&o instanceof o))return!1}for(n||(n=[]),i||(i=[]),r=n.length;r--;)if(n[r]==t)return i[r]==e;var a=!0,u=0;if(n.push(t),i.push(e),s){if(u=t.length,a=u==e.length)for(;u--&&(a=_(t[u],e[u],n,i)););return a}return cn(t,function(t,r,s){return xe.call(s,r)?(u++,a=xe.call(e,r)&&_(t,e[r],n,i)):void 0}),a&&cn(e,function(t,e,n){return xe.call(n,e)?a=-1<--u:void 0}),a}function k(t){return"function"==typeof t}function x(t){return t?nn[typeof t]:!1}function w(t){return"number"==typeof t||Ee.call(t)==qe}function C(t){return"string"==typeof t||Ee.call(t)==Ve}function E(t,e,n){var i=arguments,r=0,s=2,o=i[3],a=i[4];for(n!==ne&&(o=[],a=[],"number"!=typeof n&&(s=i.length));++r<s;)hn(i[r],function(e,n){var i,r,s;if(e&&((r=gn(e))||mn(e))){for(var u=o.length;u--&&!(i=o[u]==e););i?t[n]=a[u]:(o.push(e),a.push((s=t[n],s=r?gn(s)?s:[]:mn(s)?s:{})),t[n]=E(s,e,ne,o,a))}else null!=e&&(t[n]=e)});return t}function $(t){var e=[];return hn(t,function(t){e.push(t)}),e}function S(t,e,n){var i=-1,r=t?t.length:0,s=!1,n=(0>n?je(0,r+n):n)||0;return"number"==typeof r?s=-1<(C(t)?t.indexOf(e,n):N(t,e,n)):un(t,function(t){return++i>=n?!(s=t===e):void 0}),s}function T(t,e,n){var i=!0,e=a(e,n);if(gn(t))for(var n=-1,r=t.length;++n<r&&(i=!!e(t[n],n,t)););else un(t,function(t,n,r){return i=!!e(t,n,r)});return i}function D(t,e,n){var i=[],e=a(e,n);if(gn(t))for(var n=-1,r=t.length;++n<r;){var s=t[n];e(s,n,t)&&i.push(s)}else un(t,function(t,n,r){e(t,n,r)&&i.push(t)});return i}function O(t,e,n){var i,e=a(e,n);return j(t,function(t,n,r){return e(t,n,r)?(i=t,!1):void 0}),i}function j(t,e,n){if(e&&"undefined"==typeof n&&gn(t))for(var n=-1,i=t.length;++n<i&&!1!==e(t[n],n,t););else un(t,e,n);return t}function I(t,e,n){var i=-1,r=t?t.length:0,s=Array("number"==typeof r?r:0),e=a(e,n);if(gn(t))for(;++i<r;)s[i]=e(t[i],i,t);else un(t,function(t,n,r){s[++i]=e(t,n,r)});return s}function A(t,e,n){var i=-1/0,s=-1,o=t?t.length:0,u=i;if(e||!gn(t))e=!e&&C(t)?r:a(e,n),un(t,function(t,n,r){n=e(t,n,r),n>i&&(i=n,u=t)});else for(;++s<o;)t[s]>u&&(u=t[s]);return u}function L(t,e){return I(t,e+"")}function M(t,e,n,i){var r=3>arguments.length,e=a(e,i,ne);if(gn(t)){var s=-1,o=t.length;for(r&&(n=t[++s]);++s<o;)n=e(n,t[s],s,t)}else un(t,function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)});return n}function R(t,e,n,i){var r=t,s=t?t.length:0,o=3>arguments.length;if("number"!=typeof s)var u=vn(t),s=u.length;else Qe&&C(t)&&(r=t.split(""));return e=a(e,i,ne),j(t,function(t,i,a){i=u?u[--s]:--s,n=o?(o=!1,r[i]):e(n,r[i],i,a)}),n}function P(t,e,n){var i,e=a(e,n);if(gn(t))for(var n=-1,r=t.length;++n<r&&!(i=e(t[n],n,t)););else un(t,function(t,n,r){return!(i=e(t,n,r))});return!!i}function q(t,e,n){if(t){var i=t.length;return null==e||n?t[0]:p(t,0,Ie(je(0,e),i))}}function z(t,e){for(var n=-1,i=t?t.length:0,r=[];++n<i;){var s=t[n];gn(s)?we.apply(r,e?s:z(s)):r.push(s)}return r}function N(t,e,n){var i=-1,r=t?t.length:0;if("number"==typeof n)i=(0>n?je(0,r+n):n||0)-1;else if(n)return i=H(t,e),t[i]===e?i:-1;for(;++i<r;)if(t[i]===e)return i;return-1}function V(t,e,n){return p(t,null==e||n?1:je(0,e))}function H(t,e,n,i){for(var r=0,s=t?t.length:r,n=n?a(n,i):Y,e=n(e);s>r;)i=r+s>>>1,n(t[i])<e?r=i+1:s=i;return r}function B(t,e,n,i){var r=-1,s=t?t.length:0,o=[],u=o;"function"==typeof e&&(i=n,n=e,e=!1);var l=!e&&s>=75;if(l)var c={};for(n&&(u=[],n=a(n,i));++r<s;){var i=t[r],h=n?n(i,r,t):i;if(l)var d=h+"",d=xe.call(c,d)?!(u=c[d]):u=c[d]=[];(e?!r||u[u.length-1]!==h:d||0>N(u,h))&&((n||l)&&u.push(h),o.push(i))}return o}function U(t,e){return Ue||$e&&2<arguments.length?$e.call.apply($e,arguments):o(t,e,p(arguments,2))}function Y(t){return t}function G(t){j(b(t),function(e){var i=n[e]=t[e];n.prototype[e]=function(){var t=[this.__wrapped__];return we.apply(t,arguments),t=i.apply(n,t),new n(t)}})}function X(){return this.__wrapped__}var J="object"==typeof exports&&exports,W="object"==typeof global&&global;W.global===W&&(t=W);var Q,K,Z=[],te=new function(){},ee=0,ne=te,ie=30,re=t._,se=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,oe=/&(?:amp|lt|gt|quot|#x27);/g,ae=/\b__p\+='';/g,ue=/\b(__p\+=)''\+/g,le=/(__e\(.*?\)|\b__t\))\+'';/g,ce=/\w*$/,he=/(?:__e|__t=)\(\s*(?![\d\s"']|this\.)/g,de=RegExp("^"+(te.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),pe=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,fe=/<%=([\s\S]+?)%>/g,ge=/($^)/,me=/[&<>"']/g,ve=/['\n\r\t\u2028\u2029\\]/g,ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),be=Math.ceil,Fe=Z.concat,_e=Math.floor,ke=de.test(ke=Object.getPrototypeOf)&&ke,xe=te.hasOwnProperty,we=Z.push,Ce=te.propertyIsEnumerable,Ee=te.toString,$e=de.test($e=p.bind)&&$e,Se=de.test(Se=Array.isArray)&&Se,Te=t.isFinite,De=t.isNaN,Oe=de.test(Oe=Object.keys)&&Oe,je=Math.max,Ie=Math.min,Ae=Math.random,Le="[object Arguments]",Me="[object Array]",Re="[object Boolean]",Pe="[object Date]",qe="[object Number]",ze="[object Object]",Ne="[object RegExp]",Ve="[object String]",He=!!t.attachEvent,Be=$e&&!/\n|true/.test($e+He),Ue=$e&&!Be,Ye=Oe&&(He||Be),Ge=(Ge={0:1,length:1},Z.splice.call(Ge,0,1),Ge[0]),Xe=!0;!function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);for(n in arguments)Xe=!n;Q=!/valueOf/.test(e),K="x"!=e[0]}(1);var Je=arguments.constructor==Object,We=!g(arguments),Qe="xx"!="x"[0]+Object("x")[0];try{var Ke=Ee.call(document)==ze}catch(Ze){}var tn={"[object Function]":!1};tn[Le]=tn[Me]=tn[Re]=tn[Pe]=tn[qe]=tn[ze]=tn[Ne]=tn[Ve]=!0;var en={};en[Me]=Array,en[Re]=Boolean,en[Pe]=Date,en[ze]=Object,en[qe]=Number,en[Ne]=RegExp,en[Ve]=String;var nn={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},rn={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};n.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:fe,variable:""};var sn={a:"o,v,g",k:"for(var a=1,b=typeof g=='number'?2:arguments.length;a<b;a++){if((l=arguments[a])){",g:"t[i]=l[i]",c:"}}"},on={a:"d,c,w",k:"c=c&&typeof w=='undefined'?c:e(c,w)",b:"if(c(l[i],i,d)===false)return t",g:"if(c(l[i],i,d)===false)return t"},an={b:null},un=u(on),ln=u(sn);We&&(g=function(t){return t?xe.call(t,"callee"):!1});var cn=u(on,an,{l:!1}),hn=u(on,an),dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},pn=F(dn),fn=u(sn,{g:"if(t[i]==null)"+sn.g}),gn=Se||function(t){return Je&&t instanceof Array||Ee.call(t)==Me};k(/x/)&&(k=function(t){return t instanceof Function||"[object Function]"==Ee.call(t)});var mn=ke?function(t){if(!t||"object"!=typeof t)return!1;var e=t.valueOf,n="function"==typeof e&&(n=ke(e))&&ke(n);return n?t==n||ke(t)==n&&!g(t):m(t)}:m,vn=Oe?function(t){return"function"==typeof t&&Ce.call(t,"prototype")?v(t):x(t)?Oe(t):[]}:v;n.after=function(t,e){return 1>t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},n.assign=ln,n.bind=U,n.bindAll=function(t){for(var e=arguments,n=1<e.length?0:(e=b(t),-1),i=e.length;++n<i;){var r=e[n];t[r]=U(t[r],t)}return t},n.bindKey=function(t,e){return o(t,e,p(arguments,2))},n.compact=function(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var r=t[e];r&&i.push(r)}return i},n.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}},n.countBy=function(t,e,n){var i={},e=a(e,n);return j(t,function(t,n,r){n=e(t,n,r),xe.call(i,n)?i[n]++:i[n]=1}),i},n.debounce=function(t,e,n){function i(){a=null,n||(s=t.apply(o,r))}var r,s,o,a;return function(){var u=n&&!a;return r=arguments,o=this,clearTimeout(a),a=setTimeout(i,e),u&&(s=t.apply(o,r)),s}},n.defaults=fn,n.defer=function(t){var n=p(arguments,1);return setTimeout(function(){t.apply(e,n)},1)},n.delay=function(t,n){var i=p(arguments,2);return setTimeout(function(){t.apply(e,i)},n)},n.difference=function(t){for(var e=-1,n=t?t.length:0,r=Fe.apply(Z,arguments),r=i(r,n),s=[];++e<n;){var o=t[e];r(o)||s.push(o)}return s},n.filter=D,n.flatten=z,n.forEach=j,n.forIn=cn,n.forOwn=hn,n.functions=b,n.groupBy=function(t,e,n){var i={},e=a(e,n);return j(t,function(t,n,r){n=e(t,n,r),(xe.call(i,n)?i[n]:i[n]=[]).push(t)}),i},n.initial=function(t,e,n){if(!t)return[];var i=t.length;return p(t,0,Ie(je(0,i-(null==e||n?1:e||0)),i))},n.intersection=function(t){var e=arguments,n=e.length,r={0:{}},s=-1,o=t?t.length:0,a=o>=100,u=[],l=u;t:for(;++s<o;){var c=t[s];if(a)var h=c+"",h=xe.call(r[0],h)?!(l=r[0][h]):l=r[0][h]=[];if(h||0>N(l,c)){a&&l.push(c);for(var d=n;--d;)if(!(r[d]||(r[d]=i(e[d],0,100)))(c))continue t;u.push(c)}}return u},n.invert=F,n.invoke=function(t,e){var n=p(arguments,2),i="function"==typeof e,r=[];return j(t,function(t){r.push((i?e:t[e]).apply(t,n))}),r},n.keys=vn,n.map=I,n.max=A,n.memoize=function(t,e){var n={};return function(){var i=e?e.apply(this,arguments):arguments[0];return xe.call(n,i)?n[i]:n[i]=t.apply(this,arguments)}},n.merge=E,n.min=function(t,e,n){var i=1/0,s=-1,o=t?t.length:0,u=i;if(e||!gn(t))e=!e&&C(t)?r:a(e,n),un(t,function(t,n,r){n=e(t,n,r),i>n&&(i=n,u=t)});else for(;++s<o;)t[s]<u&&(u=t[s]);return u},n.object=function(t,e){for(var n=-1,i=t?t.length:0,r={};++n<i;){var s=t[n];e?r[s]=e[n]:r[s[0]]=s[1]}return r},n.omit=function(t,e,n){var i="function"==typeof e,r={};if(i)e=a(e,n);else var s=Fe.apply(Z,arguments);return cn(t,function(t,n,o){(i?!e(t,n,o):0>N(s,n,1))&&(r[n]=t)}),r},n.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},n.pairs=function(t){var e=[];return hn(t,function(t,n){e.push([n,t])}),e},n.partial=function(t){return o(t,p(arguments,1))},n.pick=function(t,e,n){var i={};if("function"!=typeof e)for(var r=0,s=Fe.apply(Z,arguments),o=s.length;++r<o;){var u=s[r];u in t&&(i[u]=t[u])}else e=a(e,n),cn(t,function(t,n,r){e(t,n,r)&&(i[n]=t)});return i},n.pluck=L,n.range=function(t,e,n){t=+t||0,n=+n||1,null==e&&(e=t,t=0);for(var i=-1,e=je(0,be((e-t)/n)),r=Array(e);++i<e;)r[i]=t,t+=n;return r},n.reject=function(t,e,n){return e=a(e,n),D(t,function(t,n,i){return!e(t,n,i)})},n.rest=V,n.shuffle=function(t){var e=-1,n=Array(t?t.length:0);return j(t,function(t){var i=_e(Ae()*(++e+1));n[e]=n[i],n[i]=t}),n},n.sortBy=function(t,e,n){var i=[],e=a(e,n);for(j(t,function(t,n,r){i.push({a:e(t,n,r),b:n,c:t})}),t=i.length,i.sort(s);t--;)i[t]=i[t].c;return i},n.tap=function(t,e){return e(t),t},n.throttle=function(t,e){function n(){a=new Date,o=null,r=t.apply(s,i)}var i,r,s,o,a=0;return function(){var u=new Date,l=e-(u-a);return i=arguments,s=this,0>=l?(clearTimeout(o),o=null,a=u,r=t.apply(s,i)):o||(o=setTimeout(n,l)),r}},n.times=function(t,e,n){for(var t=+t||0,i=-1,r=Array(t);++i<t;)r[i]=e.call(n,i);return r},n.toArray=function(t){return"number"==typeof(t?t.length:0)?Qe&&C(t)?t.split(""):p(t):$(t)},n.union=function(){return B(Fe.apply(Z,arguments))},n.uniq=B,n.values=$,n.where=function(t,e){var n=vn(e);return D(t,function(t){for(var i=n.length;i--;){var r=t[n[i]]===e[n[i]];if(!r)break}return!!r})},n.without=function(t){for(var e=-1,n=t?t.length:0,r=i(arguments,1,20),s=[];++e<n;){var o=t[e];r(o)||s.push(o)}return s},n.wrap=function(t,e){return function(){var n=[t];return we.apply(n,arguments),e.apply(this,n)}},n.zip=function(t){for(var e=-1,n=t?A(L(arguments,"length")):0,i=Array(n);++e<n;)i[e]=L(arguments,e);return i},n.collect=I,n.drop=V,n.each=j,n.extend=ln,n.methods=b,n.select=D,n.tail=V,n.unique=B,G(n),n.clone=y,n.cloneDeep=function(t){return y(t,!0)},n.contains=S,n.escape=function(t){return null==t?"":(t+"").replace(me,c)},n.every=T,n.find=O,n.has=function(t,e){return t?xe.call(t,e):!1},n.identity=Y,n.indexOf=N,n.isArguments=g,n.isArray=gn,n.isBoolean=function(t){return!0===t||!1===t||Ee.call(t)==Re},n.isDate=function(t){return t instanceof Date||Ee.call(t)==Pe},n.isElement=function(t){return t?1===t.nodeType:!1},n.isEmpty=function(t){var e=!0;if(!t)return e;var n=Ee.call(t),i=t.length;return n==Me||n==Ve||n==Le||We&&g(t)||n==ze&&"number"==typeof i&&k(t.splice)?!i:(hn(t,function(){return e=!1}),e)},n.isEqual=_,n.isFinite=function(t){return Te(t)&&!De(parseFloat(t))},n.isFunction=k,n.isNaN=function(t){return w(t)&&t!=+t},n.isNull=function(t){return null===t},n.isNumber=w,n.isObject=x,n.isPlainObject=mn,n.isRegExp=function(t){return t instanceof RegExp||Ee.call(t)==Ne},n.isString=C,n.isUndefined=function(t){return"undefined"==typeof t},n.lastIndexOf=function(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?je(0,i+n):Ie(n,i-1))+1);i--;)if(t[i]===e)return i;return-1},n.mixin=G,n.noConflict=function(){return t._=re,this},n.random=function(t,e){return null==t&&null==e&&(e=1),t=+t||0,null==e&&(e=t,t=0),t+_e(Ae()*((+e||0)-t+1))},n.reduce=M,n.reduceRight=R,n.result=function(t,e){var n=t?t[e]:null;return k(n)?t[e]():n},n.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:vn(t).length},n.some=P,n.sortedIndex=H,n.template=function(t,e,i){t||(t=""),i||(i={});var r,s,o=n.templateSettings,a=0,u=i.interpolate||o.interpolate||ge,c="__p+='",h=i.variable||o.variable,d=h;t.replace(RegExp((i.escape||o.escape||ge).source+"|"+u.source+"|"+(u===fe?pe:ge).source+"|"+(i.evaluate||o.evaluate||ge).source+"|$","g"),function(e,n,i,s,o,u){return i||(i=s),c+=t.slice(a,u).replace(ve,l),n&&(c+="'+__e("+n+")+'"),o&&(c+="';"+o+";__p+='"),i&&(c+="'+((__t=("+i+"))==null?'':__t)+'"),r||(r=o||se.test(n||i)),a=u+e.length,e}),c+="';\n",d||(h="obj",r?c="with("+h+"){"+c+"}":(i=RegExp("(\\(\\s*)"+h+"\\."+h+"\\b","g"),c=c.replace(he,"$&"+h+".").replace(i,"$1__d"))),c=(r?c.replace(ae,""):c).replace(ue,"$1").replace(le,"$1;"),c="function("+h+"){"+(d?"":h+"||("+h+"={});")+"var __t,__p='',__e=_.escape"+(r?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":(d?"":",__d="+h+"."+h+"||"+h)+";")+c+"return __p}";try{s=Function("_","return "+c)(n)}catch(p){throw p.source=c,p}return e?s(e):(s.source=c,s)},n.unescape=function(t){return null==t?"":(t+"").replace(oe,f)},n.uniqueId=function(t){return(null==t?"":t+"")+ ++ee},n.all=T,n.any=P,n.detect=O,n.foldl=M,n.foldr=R,n.include=S,n.inject=M,hn(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(){var e=[this.__wrapped__];return we.apply(e,arguments),t.apply(n,e)})}),n.first=q,n.last=function(t,e,n){if(t){var i=t.length;return null==e||n?t[i-1]:p(t,je(0,i-e))}},n.take=q,n.head=q,hn(n,function(t,e){n.prototype[e]||(n.prototype[e]=function(e,i){var r=t(this.__wrapped__,e,i);return null==e||i?r:new n(r)})}),n.VERSION="1.0.0-rc.3",n.prototype.toString=function(){return this.__wrapped__+""},n.prototype.value=X,n.prototype.valueOf=X,un(["join","pop","shift"],function(t){var e=Z[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments)}}),un(["push","reverse","sort","unshift"],function(t){var e=Z[t];n.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),un(["concat","slice","splice"],function(t){var e=Z[t];n.prototype[t]=function(){var t=e.apply(this.__wrapped__,arguments);return new n(t)}}),Ge&&un(["pop","shift","splice"],function(t){var e=Z[t],i="splice"==t;n.prototype[t]=function(){var t=this.__wrapped__,r=e.apply(t,arguments);return 0===t.length&&delete t[0],i?new n(r):r}}),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t._=n,define(function(){return n})):J?"object"==typeof module&&module&&module.exports==J?(module.exports=n)._=n:J._=n:t._=n}(this),function(){var t,e=this,n=e.Backbone,i=[],r=i.push,s=i.slice,o=i.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.10";var a=e._;!a&&"undefined"!=typeof require&&(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=/\s+/,l=function(t,e,n,i){if(!n)return!0;if("object"==typeof n)for(var r in n)t[e].apply(t,[r,n[r]].concat(i));else{if(!u.test(n))return!0;n=n.split(u),r=0;for(var s=n.length;s>r;r++)t[e].apply(t,[n[r]].concat(i))}},c=function(t,e){var n,i=-1,r=t.length;switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);break;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,e[0]);break;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,e[0],e[1]);break;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,e[0],e[1],e[2]);break;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e)}},i=t.Events={on:function(t,e,n){return l(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var i=this,r=a.once(function(){i.off(t,r),e.apply(this,arguments)});return r._callback=e,this.on(t,r,n),this},off:function(t,e,n){var i,r,s,o,u,c,h,d;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(o=t?[t]:a.keys(this._events),u=0,c=o.length;c>u;u++)if(t=o[u],i=this._events[t]){if(s=[],e||n)for(h=0,d=i.length;d>h;h++)r=i[h],(e&&e!==r.callback&&e!==r.callback._callback||n&&n!==r.context)&&s.push(r);this._events[t]=s}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&c(n,e),i&&c(i,arguments),this},listenTo:function(t,e,n){var i=this._listeners||(this._listeners={}),r=t._listenerId||(t._listenerId=a.uniqueId("l"));return i[r]=t,t.on(e,"object"==typeof e?this:n,this),this},stopListening:function(t,e,n){var i=this._listeners;if(i){if(t)t.off(e,"object"==typeof e?this:n,this),!e&&!n&&delete i[t._listenerId];else{"object"==typeof e&&(n=this);for(var r in i)i[r].off(e,n,this);this._listeners={}}return this}}};i.bind=i.on,i.unbind=i.off,a.extend(t,i);var h=t.Model=function(t,e){var n,i=t||{};this.cid=a.uniqueId("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(i=this.parse(i,e)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};a.extend(h.prototype,i,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,s,o,u,l,c;if(null==t)return this;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;s=n.unset,o=n.silent,t=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=a.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)e=r[i],a.isEqual(c[i],e)||t.push(i),a.isEqual(l[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete c[i]:c[i]=e;if(!o)for(t.length&&(this._pending=!0),e=0,i=t.length;i>e;e++)this.trigger("change:"+t[e],this,c[t[e]],n);if(u)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._changing=this._pending=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e,n={};for(e in this.attributes)n[e]=void 0;return this.set(n,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(n in t)a.isEqual(r[n],e=t[n])||((i||(i={}))[n]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,n,i){return t.set(t.parse(n,i),i)?(e&&e(t,n,i),void 0):!1},this.sync("read",this,t)},save:function(t,e,n){var i,r,s=this.attributes;return null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e,!i||n&&n.wait||this.set(i,n)?(n=a.extend({validate:!0},n),this._validate(i,n)?(i&&n.wait&&(this.attributes=a.extend({},s,i)),void 0===n.parse&&(n.parse=!0),r=n.success,n.success=function(t,e,n){t.attributes=s;var o=t.parse(e,n);return n.wait&&(o=a.extend(i||{},o)),a.isObject(o)&&!t.set(o,n)?!1:(r&&r(t,e,n),void 0)},t=this.isNew()?"create":n.patch?"patch":"update","patch"===t&&(n.attrs=i),t=this.sync(t,this,n),i&&n.wait&&(this.attributes=s),t):!1):!1},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(t,e,r){(r.wait||t.isNew())&&i(),n&&n(t,e,r)},this.isNew())return t.success(this,null,t),!1;var r=this.sync("delete",this,t);return t.wait||i(),r},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||$();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return!this.validate||!this.validate(this.attributes,t)},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,e||{}),!1):!0}});var d=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))};a.extend(d.prototype,i,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,i,s,u,l,c,h,d,p,f;for(h=[],d=e.at,p=this.comparator&&null==d&&0!=e.sort,f=a.isString(this.comparator)?this.comparator:null,n=0,i=t.length;i>n;n++)(s=this._prepareModel(u=t[n],e))?(l=this.get(s))?e.merge&&(l.set(u===s?s.attributes:u,e),p&&!c&&l.hasChanged(f)&&(c=!0)):(h.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)):this.trigger("invalid",this,u,e);if(h.length&&(p&&(c=!0),this.length+=h.length,null!=d?o.apply(this.models,[d,0].concat(h)):r.apply(this.models,h)),c&&this.sort({silent:!0}),e.silent)return this;for(n=0,i=h.length;i>n;n++)(s=h[n]).trigger("add",s,this,e);return c&&this.trigger("sort",this,e),this},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,i,r,s;for(n=0,i=t.length;i>n;n++)(s=this.get(t[n]))&&(delete this._byId[s.id],delete this._byId[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,e.silent||(e.index=r,s.trigger("remove",s,this,e)),this._removeReference(s));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null!=t?(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[t.id||t.cid||t[this._idAttr]||t]):void 0},at:function(t){return this.models[t]},where:function(t){return a.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(!this.comparator)throw Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return a.invoke(this.models,"get",t)},update:function(t,e){e=a.extend({add:!0,merge:!0,remove:!0},e),e.parse&&(t=this.parse(t,e));var n,i,r,s,o=[],u=[],l={};if(a.isArray(t)||(t=t?[t]:[]),e.add&&!e.remove)return this.add(t,e);for(i=0,r=t.length;r>i;i++)n=t[i],s=this.get(n),e.remove&&s&&(l[s.cid]=!0),(e.add&&!s||e.merge&&s)&&o.push(n);if(e.remove)for(i=0,r=this.models.length;r>i;i++)n=this.models[i],l[n.cid]||u.push(n);return u.length&&this.remove(u,e),o.length&&this.add(o,e),this},reset:function(t,e){e||(e={}),e.parse&&(t=this.parse(t,e));for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models.slice(),this._reset(),t&&this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success;return t.success=function(t,n,i){t[i.update?"update":"reset"](n,i),e&&e(t,n,i)},this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,i=e.success;return e.success=function(t,e,r){r.wait&&n.add(t,r),i&&i(t,e,r)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:!1},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"===t||"remove"===t)&&n!==this||("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))},sortedIndex:function(t,e,n){e||(e=this.comparator);var i=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,i,n)}}),a.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without indexOf shuffle lastIndexOf isEmpty chain".split(" "),function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}}),a.each(["groupBy","countBy","sortBy"],function(t){d.prototype[t]=function(e,n){var i=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,i,n)}});var p=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},f=/\((.*?)\)/g,g=/(\(\?)?:\w+/g,m=/\*\w+/g,v=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(p.prototype,i,{initialize:function(){},route:function(e,n,i){return a.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[n]),t.history.route(e,a.bind(function(r){r=this._extractParameters(e,r),i&&i.apply(this,r),this.trigger.apply(this,["route:"+n].concat(r)),this.trigger("route",n,r),t.history.trigger("route",this,n,r)},this)),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes)for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])},_routeToRegExp:function(t){return t=t.replace(v,"\\$&").replace(f,"(?:$1)?").replace(g,function(t,e){return e?t:"([^/]+)"}).replace(m,"(.*?)"),RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var y=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},b=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,_=/msie [\w.]+/,k=/\/$/;y.started=!1,a.extend(y.prototype,i,{interval:50,getHash:function(t){return(t=(t||this).location.href.match(/#(.*)$/))?t[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;
var n=this.root.replace(k,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(b,"")},start:function(e){if(y.started)throw Error("Backbone.history has already been started");y.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!this.history||!this.history.pushState),e=this.getFragment();var n=document.documentMode,n=_.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);return this.root=("/"+this.root+"/").replace(F,"/"),n&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!n?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,e=this.location,n=e.pathname.replace(/[^\/]$/,"$&/")===this.root,this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!n?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&n&&e.hash&&(this.fragment=this.getHash().replace(b,""),this.history.replaceState({},document.title,this.root+this.fragment+e.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),y.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(t,e){if(!y.started)return!1;if(e&&!0!==e||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){n?(n=t.href.replace(/(javascript:|#).*$/,""),t.replace(n+"#"+e)):t.hash="#"+e}}),t.history=new y;var x=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,C="model collection el id attributes className tagName events".split(" ");a.extend(x.prototype,i,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=a.result(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),!n)throw Error('Method "'+t[e]+'" does not exist');var i=e.match(w),r=i[1],i=i[2],n=a.bind(n,this),r=r+(".delegateEvents"+this.cid);""===i?this.$el.on(r,n):this.$el.on(r,i,n)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,C)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className")),e=t.$("<"+a.result(this,"tagName")+">").attr(e),this.setElement(e,!1)}}});var E={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.sync=function(e,n,i){var r=E[e];a.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:r,dataType:"json"};if(i.url||(s.url=a.result(n,"url")||$()),null!=i.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){s.type="POST",i.emulateJSON&&(s.data._method=r);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"!==s.type&&!i.emulateJSON&&(s.processData=!1);var u=i.success;i.success=function(t){u&&u(n,t,i),n.trigger("sync",n,t,i)};var l=i.error;return i.error=function(t){l&&l(n,t,i),n.trigger("error",n,t,i)},e=i.xhr=t.ajax(a.extend(s,i)),n.trigger("request",n,e,i),e},t.ajax=function(){return t.$.ajax.apply(t.$,arguments)},h.extend=d.extend=p.extend=x.extend=y.extend=function(t,e){var n,i=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,e);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,t&&a.extend(n.prototype,t),n.__super__=i.prototype,n};var $=function(){throw Error('A "url" property or function must be specified')}}.call(this),FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"input":return this.deviceIsIOS&&"file"===t.type?!0:t.disabled;case"label":case"video":return!0;default:return/\bneedsclick\b/.test(t.className)}},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":case"select":return!0;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},FastClick.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,n,i;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.targetTouches[0];return Math.abs(e.pageX-this.touchStartX)>10||Math.abs(e.pageY-this.touchStartY)>10?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,n,i,r,s,o=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],o=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)),i=o.tagName.toLowerCase(),"label"===i){if(e=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=e}}else if(this.needsFocus(o))return t.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(r=o.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(o)||(t.preventDefault(),this.sendClick(o,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onClick=function(t){"use strict";var e;return this.targetElement?t.forwardedTouchEvent?!0:(e=this.targetElement,this.targetElement=null,this.trackingClick?(this.trackingClick=!1,!0):t.cancelable?"submit"===t.target.type&&0===t.detail?!0:!this.needsClick(e)||this.cancelNextClick?(this.cancelNextClick=!1,t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0):!0},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},"undefined"!=typeof define&&define.amd&&define(function(){"use strict";return FastClick}),"undefined"!=typeof module&&module.exports&&(module.exports=function(t){"use strict";return new FastClick(t)},module.exports.FastClick=FastClick),!function(t){"use strict";var e=function(t){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."},this.init(t)};e.prototype={constructor:e,validators:{notnull:function(t){return t.length>0},notblank:function(t){return"string"==typeof t&&""!==t.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(t){if("object"==typeof t){for(var e in t)if(this.required(t[e]))return!0;return!1}return this.notnull(t)&&this.notblank(t)},type:function(t,e){var n;switch(e){case"number":n=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":n=/^\d+$/;break;case"alphanum":n=/^\w+$/;break;case"email":n=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":t=new RegExp("(https?|s?ftp|git)","i").test(t)?t:"http://"+t;case"urlstrict":n=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":n=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"phone":n=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==t?n.test(t):!1},regexp:function(t,e,n){return new RegExp(e,n.options.regexpFlag||"").test(t)},minlength:function(t,e){return t.length>=e},maxlength:function(t,e){return t.length<=e},rangelength:function(t,e){return this.minlength(t,e[0])&&this.maxlength(t,e[1])},min:function(t,e){return Number(t)>=e},max:function(t,e){return Number(t)<=e},range:function(t,e){return t>=e[0]&&t<=e[1]},equalto:function(e,n,i){return i.options.validateIfUnchanged=!0,e===t(n).val()},remote:function(e,n,i){var r=null,s={},o={};s[i.$element.attr("name")]=e,"undefined"!=typeof i.options.remoteDatatype&&(o={dataType:i.options.remoteDatatype});var a=function(e,n){"undefined"!=typeof n&&"undefined"!=typeof i.Validator.messages.remote&&n!==i.Validator.messages.remote&&t(i.ulError+" .remote").remove(),i.updtConstraint({name:"remote",valid:e},n),i.manageValidationResult()},u=function(e){if("object"==typeof e)return e;try{e=t.parseJSON(e)}catch(n){}return e},l=function(t){return"object"==typeof t&&null!==t?"undefined"!=typeof t.error?t.error:"undefined"!=typeof t.message?t.message:null:null};return t.ajax(t.extend({},{url:n,data:s,type:i.options.remoteMethod||"GET",success:function(t){t=u(t),a(1===t||!0===t||"object"==typeof t&&null!==t&&"undefined"!=typeof t.success,l(t))},error:function(t){t=u(t),a(!1,l(t))}},o)),r},mincheck:function(t,e){return this.minlength(t,e)},maxcheck:function(t,e){return this.maxlength(t,e)},rangecheck:function(t,e){return this.rangelength(t,e)}},init:function(t){var e,n=t.validators,i=t.messages;for(e in n)this.addValidator(e,n[e]);for(e in i)this.addMessage(e,i[e])},formatMesssage:function(t,e){if("object"==typeof e){for(var n in e)t=this.formatMesssage(t,e[n]);return t}return"string"==typeof t?t.replace(new RegExp("%s","i"),e):""},addValidator:function(t,e){this.validators[t]=e},addMessage:function(t,e,n){if("undefined"!=typeof n&&!0===n)return this.messages.type[t]=e,void 0;if("type"!==t)this.messages[t]=e;else for(var i in e)this.messages.type[i]=e[i]}};var n=function(t,n,i){return this.options=n,this.Validator=new e(n),"ParsleyFieldMultiple"===i?this:(this.init(t,i||"ParsleyField"),void 0)};n.prototype={constructor:n,init:function(e,n){this.type=n,this.valid=!0,this.element=e,this.validatedOnce=!1,this.$element=t(e),this.val=this.$element.val(),this.isRequired=!1,this.constraints={},"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element),this.ulErrorManagement(),this.bindHtml5Constraints(),this.addConstraints(),this.hasConstraints()&&this.bindValidationEvents()},setParent:function(e){this.$parent=t(e)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0),"undefined"!=typeof this.$element.attr("type")&&new RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),new RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max")))),"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){for(var t in this.options){var e={};e[t]=this.options[t],this.addConstraint(e,!0)}},addConstraint:function(t,e){for(var n in t)n=n.toLowerCase(),"function"==typeof this.Validator.validators[n]&&(this.constraints[n]={name:n,requirements:t[n],valid:null},"required"===n&&(this.isRequired=!0),this.addCustomConstraintMessage(n));"undefined"==typeof e&&this.bindValidationEvents()},updateConstraint:function(t,e){for(var n in t)this.updtConstraint({name:n,requirements:t[n],valid:null},e)},updtConstraint:function(e,n){this.constraints[e.name]=t.extend(!0,this.constraints[e.name],e),"string"==typeof n&&(this.Validator.messages[e.name]=n),this.bindValidationEvents()},removeConstraint:function(t){var t=t.toLowerCase();return delete this.constraints[t],"required"===t&&(this.isRequired=!1),this.hasConstraints()?(this.bindValidationEvents(),void 0):"ParsleyForm"==typeof this.getParent()?(this.getParent().removeItem(this.$element),void 0):(this.destroy(),void 0)},addCustomConstraintMessage:function(t){var e=t+("type"===t&&"undefined"!=typeof this.options[t]?this.options[t].charAt(0).toUpperCase()+this.options[t].substr(1):"")+"Message";"undefined"!=typeof this.options[e]&&this.Validator.addMessage("type"===t?this.options[t]:t,this.options[e],"type"===t)},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type),this.options.remote&&!new RegExp("change","i").test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var e=(this.options.trigger?this.options.trigger:"")+(new RegExp("key","i").test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(e+=new RegExp("change","i").test(e)?"":" change"),e=e.replace(/^\s+/g,"").replace(/\s+$/g,""),this.$element.on((e+" ").split(" ").join("."+this.type+" "),!1,t.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(t){var e=this.getVal();return"keyup"!==t.type||/keyup/i.test(this.options.trigger)||this.validatedOnce?"change"!==t.type||/change/i.test(this.options.trigger)||this.validatedOnce?!this.isRadioOrCheckbox&&this.getLength(e)<this.options.validationMinlength&&!this.validatedOnce?!0:(this.validate(),void 0):!0:!0},getLength:function(t){return t&&t.hasOwnProperty("length")?t.length:0},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var t in this.constraints)return!0;return!1},validate:function(t){var e=this.getVal(),n=null;return this.hasConstraints()?this.options.listeners.onFieldValidate(this.element,this)||""===e&&!this.isRequired?(this.reset(),null):this.needsValidation(e)?(n=this.applyValidators(),("undefined"!=typeof t?t:this.options.showErrors)&&this.manageValidationResult(),n):this.valid:null},needsValidation:function(t){return!this.options.validateIfUnchanged&&null!==this.valid&&this.val===t&&this.validatedOnce?!1:(this.val=t,this.validatedOnce=!0)},applyValidators:function(){var t=null;for(var e in this.constraints){var n=this.Validator.validators[this.constraints[e].name](this.val,this.constraints[e].requirements,this);!1===n?(t=!1,this.constraints[e].valid=t):!0===n&&(this.constraints[e].valid=!0,t=!1!==t)}return!1===t?this.options.listeners.onFieldError(this.element,this.constraints,this):!0===t&&!1===this.options.listeners.onFieldSuccess(this.element,this.constraints,this)&&(t=!1),t},manageValidationResult:function(){var e=null;for(var n in this.constraints)!1===this.constraints[n].valid?(this.manageError(this.constraints[n]),e=!1):!0===this.constraints[n].valid&&(this.removeError(this.constraints[n].name),e=!1!==e);return this.valid=e,!0===this.valid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0):!1===this.valid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1):(this.ulError&&0===t(this.ulError).children().length&&this.removeErrors(),e)},ulErrorManagement:function(){this.ulError="#"+this.hash,this.ulTemplate=t(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(e){var n=this.ulError+" ."+e,i=this;this.options.animate?t(n).fadeOut(this.options.animateDuration,function(){t(this).remove(),i.ulError&&0===t(i.ulError).children().length&&i.removeErrors()}):t(n).remove()},addError:function(e){for(var n in e){var i=t(this.options.errors.errorElem).addClass(n);t(this.ulError).append(this.options.animate?t(i).html(e[n]).hide().fadeIn(this.options.animateDuration):t(i).html(e[n]))}},removeErrors:function(){this.options.animate?t(this.ulError).fadeOut(this.options.animateDuration,function(){t(this).remove()}):t(this.ulError).remove()},reset:function(){this.valid=null,this.removeErrors(),this.validatedOnce=!1,this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var t in this.constraints)this.constraints[t].valid=null;return this},manageError:function(e){if(t(this.ulError).length||this.manageErrorContainer(),!("required"===e.name&&null!==this.getVal()&&this.getVal().length>0||this.isRequired&&"required"!==e.name&&(null===this.getVal()||0===this.getVal().length))){var n=e.name,i=!1!==this.options.errorMessage?"custom-error-message":n,r={},s=!1!==this.options.errorMessage?this.options.errorMessage:"type"===e.name?this.Validator.messages[n][e.requirements]:"undefined"==typeof this.Validator.messages[n]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[n],e.requirements);t(this.ulError+" ."+i).length||(r[i]=s,this.addError(r))}},manageErrorContainer:function(){var e=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),n=this.options.animate?this.ulTemplate.show():this.ulTemplate;return"undefined"!=typeof e?(t(e).append(n),void 0):(this.isRadioOrCheckbox?this.$element.parent().after(n):this.$element.after(n),void 0)},addListener:function(t){for(var e in t)this.options.listeners[e]=t[e]},destroy:function(){this.$element.removeClass("parsley-validated"),this.reset().$element.off("."+this.type).removeData(this.type)}};var i=function(t,n,i){this.initMultiple(t,n),this.inherit(t,n),this.Validator=new e(n),this.init(t,i||"ParsleyFieldMultiple")};i.prototype={constructor:i,initMultiple:function(e,n){this.element=e,this.$element=t(e),this.group=n.group||!1,this.hash=this.getName(),this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]',this.isRadioOrCheckbox=!0,this.isRadio=this.$element.is("input[type=radio]"),this.isCheckbox=this.$element.is("input[type=checkbox]"),this.errorClassHandler=n.errors.classHandler(e,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(t,e){var i=new n(t,e,"ParsleyFieldMultiple");for(var r in i)"undefined"==typeof this[r]&&(this[r]=i[r])},getName:function(){if(this.group)return"parsley-"+this.group;if("undefined"==typeof this.$element.attr("name"))throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return t(this.siblings+":checked").val()||"";if(this.isCheckbox){var e=[];return t(this.siblings+":checked").each(function(){e.push(t(this).val())}),e}},bindValidationEvents:function(){this.valid=null,this.$element.addClass("parsley-validated"),this.$element.off("."+this.type);var e=this,n=(this.options.trigger?this.options.trigger:"")+(new RegExp("change","i").test(this.options.trigger)?"":" change");n=n.replace(/^\s+/g,"").replace(/\s+$/g,""),t(this.siblings).each(function(){t(this).on(n.split(" ").join("."+e.type+" "),!1,t.proxy(e.eventValidation,e))})}};var r=function(t,e,n){this.init(t,e,n||"parsleyForm")};r.prototype={constructor:r,init:function(e,n,i){this.type=i,this.items=[],this.$element=t(e),this.options=n;var r=this;this.$element.find(n.inputs).each(function(){r.addItem(this)}),this.$element.on("submit."+this.type,!1,t.proxy(this.validate,this))},addListener:function(t){for(var e in t)if(new RegExp("Field").test(e))for(var n=0;n<this.items.length;n++)this.items[n].addListener(t);else this.options.listeners[e]=t[e]},addItem:function(e){if(t(e).is(this.options.excluded))return!1;var n=t(e).parsley(this.options);n.setParent(this),this.items.push(n)},removeItem:function(e){for(var n=t(e).parsley(),i=0;i<this.items.length;i++)if(this.items[i].hash===n.hash)return this.items[i].destroy(),this.items.splice(i,1),!0;return!1},validate:function(e){var n=!0;this.focusedField=!1;for(var i=0;i<this.items.length;i++)"undefined"!=typeof this.items[i]&&!1===this.items[i].validate()&&(n=!1,(!this.focusedField&&"first"===this.options.focus||"last"===this.options.focus)&&(this.focusedField=this.items[i].$element));if(this.focusedField&&!n)if(this.options.scrollDuration>0){var r=this,s=this.focusedField.offset().top-t(window).height()/2;t("html, body").animate({scrollTop:s},this.options.scrollDuration,function(){r.focusedField.focus()})}else r.focusedField.focus();var o=this.options.listeners.onFormSubmit(n,e,this);return"undefined"!=typeof o?o:n},isValid:function(){for(var t=0;t<this.items.length;t++)if(!1===this.items[t].isValid())return!1;return!0},removeErrors:function(){for(var t=0;t<this.items.length;t++)this.items[t].parsley("reset")},destroy:function(){for(var t=0;t<this.items.length;t++)this.items[t].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var t=0;t<this.items.length;t++)this.items[t].reset()}},t.fn.parsley=function(e,s){function o(o,u){var l=t(o).data(u);if(!l){switch(u){case"parsleyForm":l=new r(o,a,"parsleyForm");break;case"parsleyField":l=new n(o,a,"parsleyField");break;case"parsleyFieldMultiple":l=new i(o,a,"parsleyFieldMultiple");break;default:return}t(o).data(u,l)}if("string"==typeof e&&"function"==typeof l[e]){var c=l[e](s);return"undefined"!=typeof c?c:t(o)}return l}var a=t.extend(!0,{},t.fn.parsley.defaults,"undefined"!=typeof window.ParsleyConfig?window.ParsleyConfig:{},e,this.data()),u=null;return t(this).is("form")||!0===t(this).data("bind")?u=o(t(this),"parsleyForm"):t(this).is(a.inputs)&&!t(this).is(a.excluded)&&(u=o(t(this),t(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof s?s():u},t.fn.parsley.Constructor=r,t.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], input[type=file], :disabled",trigger:!1,animate:!0,animateDuration:300,scrollDuration:500,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul></ul>",errorElem:"<li></li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}},t(window).on("load",function(){t('[data-validate="parsley"]').each(function(){t(this).parsley()})})}(window.jQuery||window.Zepto),/*!
 * jQuery outside events - v1.1 - 3/16/2010
 * http://benalman.com/projects/jquery-outside-events-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
// Copyright (c) 2010 "Cowboy" Ben Alman,
function(t,e,n){"$:nomunge";function i(i,r){function s(e){t(o).each(function(){var n=t(this);this===e.target||n.has(e.target).length||n.triggerHandler(r,[e.target])})}r=r||i+n;var o=t(),a=i+"."+r+"-special-event";t.event.special[r]={setup:function(){o=o.add(this),1===o.length&&t(e).bind(a,s)},teardown:function(){o=o.not(this),0===o.length&&t(e).unbind(a)},add:function(t){var e=t.handler;t.handler=function(t,n){t.target=n,e.apply(this,arguments)}}}}t.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(t){i(t)}),i("focusin","focus"+n),i("focusout","blur"+n),t.addOutsideEvent=i}(jQuery,document,"outside"),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t="undefined"!=typeof exports&&null!==exports?exports:this,t.SimpleToggle=function(t){function i(){return this._respondToOutsideClick=n(this._respondToOutsideClick,this),this.toggle=n(this.toggle,this),e=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.initialize=function(){var t,e,n;return(t=this.options).toggleEl||(t.toggleEl=this.$el),(e=this.options).stateClass||(e.stateClass="is-on"),(n=this.options).shouldToggleOnOutsideClick||(n.shouldToggleOnOutsideClick=!1),this.options.toggleEl.on("click",this.toggle)},i.prototype.toggle=function(t){return t.preventDefault(),this._toggleState()},i.prototype._toggleState=function(){return this.$el.add(this.options.toggleEl).toggleClass(this.options.stateClass),this.options.shouldToggleOnOutsideClick?this.$el.on("clickoutside",this._respondToOutsideClick):void 0},i.prototype._respondToOutsideClick=function(){return this._toggleState(),this.$el.off("clickoutside",this._respondToOutsideClick)},i}(Backbone.View)}.call(this),function(){var t,e,n;n="undefined"!=typeof exports&&null!==exports?exports:this,null==n.Desktime&&(n.Desktime={isLayoutWide:function(){return Modernizr.mq("only all and (min-width: 655px)")},isLayoutExtraWide:function(){return Modernizr.mq("only all and (min-width: 848px)")},isiOS:function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1},pubSub:_.extend({},Backbone.Events)}),new FastClick(document.body),$(".js-nav-account").length&&(e=new SimpleToggle({el:$(".js-nav-account"),toggleEl:$(".js-nav-account-switcher"),stateClass:"is-expanded",shouldToggleOnOutsideClick:!0})),$(".js-app-footer").length&&(t=new SimpleToggle({el:$(".js-app-footer"),toggleEl:$(".js-footer-nav-toggle"),stateClass:"is-expanded",shouldToggleOnOutsideClick:!0}))}.call(this),function(t,e,n){"use strict";t.fn.backstretch=function(i,s){return(i===n||0===i.length)&&t.error("No images were supplied for Backstretch"),0===t(e).scrollTop()&&e.scrollTo(0,0),this.each(function(){var e=t(this),n=e.data("backstretch");n&&(s=t.extend(n.options,s),n.destroy(!0)),n=new r(this,i,s),e.data("backstretch",n)})},t.backstretch=function(e,n){return t("body").backstretch(e,n).data("backstretch")},t.expr[":"].backstretch=function(e){return t(e).data("backstretch")!==n},t.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var i={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}},r=function(n,r,o){if(this.options=t.extend({},t.fn.backstretch.defaults,o||{}),this.images=t.isArray(r)?r:[r],t.each(this.images,function(){t("<img />")[0].src=this}),this.isBody=n===document.body,this.$container=t(n),this.$wrap=t('<div class="backstretch"></div>').css(i.wrap).appendTo(this.$container),this.$root=this.isBody?s?t(e):t(document):this.$container,!this.isBody){var a=this.$container.css("position"),u=this.$container.css("zIndex");this.$container.css({position:"static"===a?"relative":a,zIndex:"auto"===u?0:u,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),t(e).on("resize.backstretch",t.proxy(this.resize,this)).on("orientationchange.backstretch",t.proxy(function(){this.isBody&&0===e.pageYOffset&&(e.scrollTo(0,1),this.resize())},this))};r.prototype={resize:function(){try{var t,n={left:0,top:0},i=this.isBody?this.$root.width():this.$root.innerWidth(),r=i,s=this.isBody?e.innerHeight?e.innerHeight:this.$root.height():this.$root.innerHeight(),o=r/this.$img.data("ratio");o>=s?(t=(o-s)/2,this.options.centeredY&&(n.top="-"+t+"px")):(o=s,r=o*this.$img.data("ratio"),t=(r-i)/2,this.options.centeredX&&(n.left="-"+t+"px")),this.$wrap.css({width:i,height:s}).find("img:not(.deleteable)").css({width:r,height:o}).css(n)}catch(a){}return this},show:function(e){if(!(Math.abs(e)>this.images.length-1)){this.index=e;var n=this,r=n.$wrap.find("img").addClass("deleteable"),s=t.Event("backstretch.show",{relatedTarget:n.$container[0]});return clearInterval(n.interval),n.$img=t("<img />").css(i.img).bind("load",function(e){var i=this.width||t(e.target).width(),o=this.height||t(e.target).height();t(this).data("ratio",i/o),t(this).fadeIn(n.options.speed||n.options.fade,function(){r.remove(),n.paused||n.cycle(),n.$container.trigger(s,n)}),n.resize()}).appendTo(n.$wrap),n.$img.attr("src",n.images[e]),n}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(t.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(n){t(e).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),n||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s=function(){var t=navigator.userAgent,n=navigator.platform,i=t.match(/AppleWebKit\/([0-9]+)/),r=!!i&&i[1],s=t.match(/Fennec\/([0-9]+)/),o=!!s&&s[1],a=t.match(/Opera Mobi\/([0-9]+)/),u=!!a&&a[1],l=t.match(/MSIE ([0-9]+)/),c=!!l&&l[1];return!((n.indexOf("iPhone")>-1||n.indexOf("iPad")>-1||n.indexOf("iPod")>-1)&&r&&534>r||e.operamini&&"[object OperaMini]"==={}.toString.call(e.operamini)||a&&7458>u||t.indexOf("Android")>-1&&r&&533>r||o&&6>o||"palmGetResource"in e&&r&&534>r||t.indexOf("MeeGo")>-1&&t.indexOf("NokiaBrowser/8.5.0")>-1||c&&6>=c)}()}(jQuery,window),function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t="undefined"!=typeof exports&&null!==exports?exports:this,t.Sextant=function(t){function i(){return this._searchByLatAndLong=n(this._searchByLatAndLong,this),this._handleReverseGeocodingResponse=n(this._handleReverseGeocodingResponse,this),this._handleCurrentLocationResponse=n(this._handleCurrentLocationResponse,this),this._handleGeocodingResponse=n(this._handleGeocodingResponse,this),this._disableUseCurrentLocation=n(this._disableUseCurrentLocation,this),this._geolocateCurrentLocation=n(this._geolocateCurrentLocation,this),this._geolocateQuery=n(this._geolocateQuery,this),this.hideUseCurrentLocationButton=n(this.hideUseCurrentLocationButton,this),this.showUseCurrentLocationButton=n(this.showUseCurrentLocationButton,this),e=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.focusedState="is-focused",i.prototype.searchLocationContainer=".js-nav-map-search",i.prototype.searchLocation=".js-nav-map-search-input",i.prototype.latitude=".js-latitude",i.prototype.longitude=".js-longitude",i.prototype.events={submit:"_geolocateQuery","click .js-use-current-location":"_geolocateCurrentLocation"},i.prototype.initialize=function(){return Modernizr.geolocation?(this.$el.find(this.searchLocation).on("focus",this.showUseCurrentLocationButton),this.$el.find(this.searchLocation).on("clickoutside",this.hideUseCurrentLocationButton)):void 0},i.prototype.showUseCurrentLocationButton=function(){return this.$el.find(this.searchLocationContainer).addClass(this.focusedState)},i.prototype.hideUseCurrentLocationButton=function(){return this.$el.find(this.searchLocationContainer).removeClass(this.focusedState)},i.prototype._geolocateQuery=function(t){var e,n;return t.preventDefault(),e=this.$el.find(this.searchLocation).val(),n=new google.maps.Geocoder,n.geocode({address:e},this._handleGeocodingResponse)},i.prototype._geolocateCurrentLocation=function(t){return t.preventDefault(),this._disableUseCurrentLocation(),navigator.geolocation.getCurrentPosition(this._handleCurrentLocationResponse)},i.prototype._disableUseCurrentLocation=function(){return $(".js-use-current-location").attr("disabled","disabled")},i.prototype._handleGeocodingResponse=function(t,e){var n;return e===google.maps.GeocoderStatus.OK?(n=t[0].geometry.location,this._searchByLatAndLong(n.lat(),n.lng())):toastr.error("Sorry, we don't know that location")},i.prototype._handleCurrentLocationResponse=function(t){var e,n;return n=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),e=new google.maps.Geocoder,e.geocode({latLng:n},this._handleReverseGeocodingResponse)},i.prototype._handleReverseGeocodingResponse=function(t,e){var n;return e===google.maps.GeocoderStatus.OK?(this.$el.find(this.searchLocation).val(t[0].formatted_address),n=t[0].geometry.location,this._searchByLatAndLong(n.lat(),n.lng())):toastr.error("Sorry, we couldn't find your location")},i.prototype._searchByLatAndLong=function(t,e){return this.$el.find(this.latitude).val(t),this.$el.find(this.longitude).val(e),this._submitForm()},i.prototype._submitForm=function(){return this.$el.get(0).submit()},i}(Backbone.View)}.call(this),function(){var t;t=jQuery,t.fn.extend({findDominantElement:function(e){var n,i,r;return r={},r=t.extend(r,e),n=function(e){var n,r;return r=0,n=null,e.each(function(){var e;return e=i(t(this)),e>r?(r=e,n=t(this)):void 0}),n},i=function(e){var n,i,r,s,o,a,u;return n=t(window).scrollTop(),i=t(window).height(),r=e.offset().top,s=r+e.outerHeight(),o=n,a=n+i,u=Math.max(0,Math.min(s,a)-Math.max(r,o))},n(t(this))}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t="undefined"!=typeof exports&&null!==exports?exports:this,t.Scroller=function(){function t(t){this.options=t,this._resetScrollTimeout=e(this._resetScrollTimeout,this),this._updateCurrentSection=e(this._updateCurrentSection,this),this._respondToScroll=e(this._respondToScroll,this),this.activateCurrentSection=e(this.activateCurrentSection,this),this.to=e(this.to,this),this.currentSection=null,$(window).on("scroll",_.throttle(this._respondToScroll,500)),Desktime.pubSub.on("scroll_requested",this.to)}return t.prototype.to=function(t){var e,n;return e=Desktime.isLayoutExtraWide()?71:0,n=t.offset().top-e,null==$.scrollTo||Desktime.isiOS()?$(window).scrollTop(n):$(window).scrollTo(n,1e3,{easing:"easeOutQuart"})},t.prototype.activateCurrentSection=function(){return this.currentSection?Desktime.pubSub.trigger("section_changed",{$el:this.currentSection}):void 0},t.prototype._respondToScroll=function(){return Desktime.pubSub.trigger("scrolling_started"),this._resetScrollTimeout(),this._updateCurrentSection()},t.prototype._updateCurrentSection=function(){var t,e;return t=this.options.$sections.findDominantElement(),null!=t?(null!=(e=this.currentSection)?e.is(t):void 0)?void 0:(this.currentSection=t,this.activateCurrentSection()):void 0},t.prototype._resetScrollTimeout=function(){return window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(function(){return Desktime.pubSub.trigger("scrolling_ended")},600)},t}()}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t="undefined"!=typeof exports&&null!==exports?exports:this,t.Navigator=function(){function t(t){var n;this.options=t,this._replaceUrl=e(this._replaceUrl,this),this.start=e(this.start,this),n=Backbone.Router.extend(this.options.routeOptions),this.router=new n,Desktime.pubSub.on("section_changed",this._replaceUrl)}return t.prototype.start=function(){return Backbone.history.start({pushState:!0,root:this.options.root})},t.prototype._replaceUrl=function(t){var e;return e=t.$el.data("url-path"),this.router.navigate(e,{trigger:!1,replace:!0})},t}()}.call(this),function(){var t;t=function(){function t(){}return t.prototype.index=function(){var t,e;return new Sextant({el:".js-nav-map"}),Desktime.loadExpandedLayoutScripts=_.throttle(function(){return Desktime.isLayoutWide()?(Modernizr.load(["https://desktime-production-assets.s3.amazonaws.com/assets/marketing/extras-827d4acf2b529e79a570e1038ebaff85.js"]),$(window).off("resize",Desktime.loadExpandedLayoutScripts)):void 0},300),$(window).on("resize",Desktime.loadExpandedLayoutScripts).trigger("resize"),Desktime.scroller=new Scroller({$sections:$("header[id], section[id]")}),t=$(".js-scroll-link"),t.on("click",function(t){var e,n,i;return t.preventDefault(),i=t.currentTarget.getAttribute("href"),n=i.substring(i.indexOf("#")),e=$(n),Desktime.pubSub.trigger("scroll_requested",e)}),$(".js-marketing-scroll-top").on("click",function(t){return Desktime.pubSub.trigger("scroll_requested",$("body")),t.preventDefault()}),Modernizr.history?(e=new Navigator({root:"/",routeOptions:{routes:{"features(/)":"features","features/:feature(/)":"feature","request-demo(/)":"requestDemo"},features:function(){return Desktime.pubSub.trigger("scroll_requested",$("#features"))},feature:function(t){return Desktime.pubSub.trigger("scroll_requested",$("#"+t))},requestDemo:function(){return Desktime.pubSub.trigger("scroll_requested",$("#request-demo"))}}}),$(window).load(function(){return e.start()})):void 0},t.prototype.faq=function(){return this._backstretch()},t.prototype.request_demo_success=function(){return this._backstretch()},t.prototype._backstretch=function(){var t,e,n;return t=$(".js-backstretch"),n=t.data("backstretch-url"),e=t.data("backstretch-fade")||0,t.backstretch(n,{fade:e,duration:3e3})},t}(),Desktime.marketing=new t}.call(this),function(){$(function(){var t,e,n,i;return t=$("body"),i=t.data("controller"),e=t.data("action"),void 0!==i&&void 0!==e?(i=i.replace(/\//g,"_"),n=Desktime[i],"function"==typeof Desktime.init&&Desktime.init(),null!=n&&($.isFunction(n.init)&&n.init(),$.isFunction(n[e])&&n[e]()),Desktime.pubSub.trigger("container:loaded")):void 0})}.call(this),function(){}.call(this);